(this["webpackJsonpcharlesstover.com"]=this["webpackJsonpcharlesstover.com"]||[]).push([[7],{235:function(e,i,t){e.exports={bannerHeight:"publication-card-definition_bannerHeight__3lcEB",bannerWidth:"publication-card-definition_bannerWidth__3ZQqF",columnLayout:"publication-card-definition_columnLayout__3jxQ7",dateTime:"publication-card-definition_dateTime__29C0g",popover:"publication-card-definition_popover__dPdLY",reactions:"publication-card-definition_reactions__87qeN",readingTime:"publication-card-definition_readingTime__1NHo7",views:"publication-card-definition_views__1fGAQ"}},236:function(e,i,t){e.exports={sort:"publication-cards_sort__2Iiqm"}},248:function(e,i,t){"use strict";t.r(i),t.d(i,"default",(function(){return Q}));var n=t(3),a=t(242),s=t(217),c=t(61),r=t(56),o=t(65),l=t(39),d=t(13),u=t.n(d),b=t(243),j=t(17),m=t(216),h=t(66),p=t(234),O=t(100),v=t(210),f=t.n(v);function w({children:e}){switch(e){case 1:return Object(n.jsx)(u.a,{children:"1 minute"});default:return Object(n.jsx)(u.a,{n:e,children:"$n minutes"})}}const x=Date.now();function g(e){return(x-e)/864e5}var _=t(235),T=t.n(_);var y,D={header:({title:e,url:i})=>Object(n.jsx)(h.a,{href:i,children:Object(n.jsx)(j.a,{color:"inherit",fontSize:"heading-m",children:e})}),sections:[{id:"image",content({dateTime:e,image:i,reactions:t,readingTime:a,title:s,url:c,views:r}){const o=new Date(e);return Object(n.jsx)("div",{className:T.a.bannerHeight,children:Object(n.jsxs)("div",{className:T.a.bannerWidth,children:[Object(n.jsx)(h.a,{href:c,children:i?Object(n.jsx)("img",{alt:s,src:i,width:320}):Object(n.jsx)(O.a,{iconAriaLabel:"Warning",type:"warning",children:"Missing image"})}),Object(n.jsx)(b.a,{className:T.a.views,children:Object(n.jsxs)(p.a,{className:T.a.popover,content:Object(n.jsx)(u.a,{children:"Views"}),size:"small",children:["\ud83d\udc41\u200d\ud83d\udde8 ",Object(n.jsx)(f.a,{children:r})]})}),Object(n.jsx)(b.a,{className:T.a.reactions,children:Object(n.jsxs)(p.a,{className:T.a.popover,content:Object(n.jsx)(u.a,{children:"Reactions"}),size:"small",children:[Object(n.jsx)(f.a,{children:t})," \ud83d\udc4f"]})}),Object(n.jsx)(b.a,{className:T.a.dateTime,children:Object(n.jsxs)(p.a,{className:T.a.popover,content:Object(n.jsx)(u.a,{children:"Publication date"}),size:"small",children:["\ud83d\udcc5 ",o.getFullYear(),"-",o.getMonth()+1,"-",o.getDate()]})}),a&&Object(n.jsx)(b.a,{className:T.a.readingTime,children:Object(n.jsxs)(p.a,{className:T.a.popover,content:Object(n.jsx)(u.a,{children:"Reading time"}),size:"small",children:[Object(n.jsx)(w,{children:a})," \u23f3"]})})]})})}},{id:"stats",content:({dateTime:e,reactions:i,views:t})=>Object(n.jsxs)(m.a,{className:T.a.columnLayout,columns:12,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(j.a,{color:"text-label",fontSize:"heading-s",children:Object(n.jsx)(u.a,{children:"Reactions/day"})}),Math.round(i/g(e)*100)/100]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(j.a,{color:"text-label",fontSize:"heading-s",children:Object(n.jsx)(u.a,{children:"Reactions/view"})}),Math.round(i/t*1e4)/100,"%"]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(j.a,{color:"text-label",fontSize:"heading-s",children:Object(n.jsx)(u.a,{children:"Views/day"})}),Math.round(t/g(e)*100)/100]})]})}]},P=t(0),R=t(36),S=t.n(R);!function(e){e.PublicationDate="publication-date",e.Reactions="reactions",e.ReactionsPerDay="reactions-per-day",e.ReactionsPerView="reactions-per-view",e.ReadingTime="reading-time",e.Views="views",e.ViewsPerDay="views-per-day"}(y||(y={}));var N=y;function V({views:e}){return e>=5e3}var A=t(194);function L({dateTime:e},{dateTime:i}){return e<i?1:e>i?-1:0}function C({reactions:e},{reactions:i}){return e<i?1:e>i?-1:0}const M=Date.now();function E({dateTime:e,reactions:i},{dateTime:t,reactions:n}){const a=i/(M-e),s=n/(M-t);return a<s?1:a>s?-1:0}function z({reactions:e,views:i},{reactions:t,views:n}){const a=e/i,s=t/n;return a<s?1:a>s?-1:0}function H({readingTime:e},{readingTime:i}){return"undefined"===typeof e?"undefined"===typeof i?0:1:"undefined"===typeof i?-1:e<i?1:e>i?-1:0}function W({views:e},{views:i}){return e<i?1:e>i?-1:0}const F=Date.now();function I({dateTime:e,views:i},{dateTime:t,views:n}){const a=i/(F-e),s=n/(F-t);return a<s?1:a>s?-1:0}const k=new S.a(!0);function $(){const e=Object(d.useTranslate)(),[i,t]=Object(R.useCapsule)(k),{data:n,isLoading:a}=Object(A.a)("dev",(async()=>{const e=await fetch("https://dev.to/api/articles?username=charlesstover");return await e.json()})),{data:s,isLoading:c}=Object(A.a)("medium",(async()=>{const e=await fetch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MEDIUM_STATS||"https://medium.cscdn.net/charles-stover.json");return await e.json()})),r=function(){const e=Object(d.useTranslate)();return Object(P.useMemo)((()=>[{label:e("Publication date")||"...",value:N.PublicationDate},{label:e("Reactions")||"...",value:N.Reactions},{label:e("Reactions per day")||"...",value:N.ReactionsPerDay},{label:e("Reactions per view")||"...",value:N.ReactionsPerView},{label:e("Reading time")||"...",value:N.ReadingTime},{label:e("Views")||"...",value:N.Views},{label:e("Views per day")||"...",value:N.ViewsPerDay}]),[e])}(),[o,l]=Object(P.useState)(N.ViewsPerDay),u=function({devData:e,mediumData:i}){return Object(P.useMemo)((()=>{const t=[];let n=0,a=0;if("undefined"!==typeof i)for(const[e,{claps:c,firstPublishedAt:r,postId:o,previewImage:l,readingTime:d,reads:u,title:b,updateNotificationSubscribers:j,upvotes:m,views:h}]of Object.entries(i)){const i=c+j+m;n+=i,a+=u,t.push({dateTime:r,image:l&&`https://miro.medium.com/max/320/${l}`,reactions:i,readingTime:d,title:b,type:"medium",url:`https://charles-stover.medium.com/${e}-${o}`,views:h})}const s=a/n;if("undefined"!==typeof e)for(const{canonical_url:i,comments_count:c,public_reactions_count:r,published_timestamp:o,social_image:l,title:d,url:u}of e){const e=({url:e})=>e===i,n=t.find(e),a=c+r,b=Math.round(a*s);"undefined"===typeof n?t.push({dateTime:new Date(o).getTime(),image:l,reactions:a,title:d,type:"dev",url:u,views:b}):(n.reactions+=a,n.views+=b)}return t}),[e,i])}({devData:n,mediumData:s});return{dismissAriaLabel:e("Dismiss"),isAlertVisible:i,loading:a||c,loadingText:e("Loading publications"),sortOptions:r,sortPlaceholder:e("Sort by"),handleAlertDismiss:Object(P.useCallback)((()=>{t(!1)}),[t]),handleSortChange:Object(P.useCallback)((e=>{const i=e.detail.selectedOption.value;l(i)}),[]),items:Object(P.useMemo)((()=>{const e=[...u];return e.sort(function(e){switch(e){case N.PublicationDate:return L;case N.Reactions:return C;case N.ReactionsPerDay:return E;case N.ReactionsPerView:return z;case N.ReadingTime:return H;case N.Views:return W;case N.ViewsPerDay:return I}}(o)),e.filter(V)}),[u,o]),selectedSortOption:Object(P.useMemo)((()=>r.find((({value:e})=>e===o))),[o,r])}}var q=t(236),K=t.n(q);function Q(){const{dismissAriaLabel:e,handleAlertDismiss:i,handleSortChange:t,isAlertVisible:d,items:b,loading:j,loadingText:m,selectedSortOption:h,sortOptions:p,sortPlaceholder:O}=$();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(l.a,{direction:"vertical",size:"m",children:[d&&Object(n.jsx)(a.a,{dismissAriaLabel:e,dismissible:!0,onDismiss:i,type:"info",visible:!0,children:"Only publications with more than 5,000 views are shown."}),Object(n.jsx)(s.a,{cardDefinition:D,items:b,loading:j,loadingText:m,header:Object(n.jsx)(r.a,{actions:Object(n.jsx)(c.a,{className:K.a.sort,label:Object(n.jsx)(u.a,{children:"Sort by"}),stretch:!0,children:Object(n.jsx)(o.a,{onChange:t,options:p,placeholder:O,selectedOption:h})}),children:Object(n.jsx)(u.a,{children:"Publications"})})})]})})}}}]);
//# sourceMappingURL=7.4b9bc3f9.chunk.js.map